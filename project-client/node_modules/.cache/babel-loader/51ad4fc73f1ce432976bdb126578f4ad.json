{"ast":null,"code":"import _regeneratorRuntime from\"/Users/joshuabaron/Documents/NEU/cs6760/project-parent/project-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/joshuabaron/Documents/NEU/cs6760/project-parent/project-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{setCurrentUser,setUsers}from\"../redux/actions\";import API from\"../utils/API\";import{Button,Card,ListGroup,Alert}from\"react-bootstrap\";import PageNav from\"./PageNav\";import{USERS_ENFORCED}from\"../redux/stateConstants\";var Timeline=function Timeline(){var dispatch=useDispatch();var page=useSelector(function(state){return state.page.page;});var users=useSelector(function(state){return state.users.users;});useEffect(function(){var fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=dispatch;_context.t1=setUsers;_context.next=4;return API.getUsersByPage(page);case 4:_context.t2=_context.sent;_context.t3=(0,_context.t1)(_context.t2);(0,_context.t0)(_context.t3);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();fetchUsers();},[dispatch,page]);return/*#__PURE__*/_jsx(_Fragment,{children:users===USERS_ENFORCED.users?/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"ml-auto mr-auto mt-5\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"You're making too many requests!\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ListGroup,{className:\"mx-auto w-75 mt-5 mb-3\",children:users.map(function(user,i){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Card,{style:{border:\"none\"},children:[/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsx(Button,{variant:\"link\",onClick:function onClick(){dispatch(setCurrentUser(user));},children:user.name})}),/*#__PURE__*/_jsx(Card.Body,{className:\"mt-0 pt-0\",children:user.text}),/*#__PURE__*/_jsx(Card.Footer,{className:\"text-muted\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{children:new Date(user.tweetCreated).toLocaleString()}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:user.tweetLocation})]})})]})},i);})}),/*#__PURE__*/_jsx(\"button\",{style:{visibility:\"hidden\"},onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.writeHoneyPot();case 2:case\"end\":return _context2.stop();}}},_callee2);}))}),/*#__PURE__*/_jsx(PageNav,{})]})});};export default Timeline;","map":{"version":3,"sources":["/Users/joshuabaron/Documents/NEU/cs6760/project-parent/project-client/src/components/Timeline.jsx"],"names":["React","useEffect","useDispatch","useSelector","setCurrentUser","setUsers","API","Button","Card","ListGroup","Alert","PageNav","USERS_ENFORCED","Timeline","dispatch","page","state","users","fetchUsers","getUsersByPage","map","user","i","border","name","text","Date","tweetCreated","toLocaleString","tweetLocation","visibility","writeHoneyPot"],"mappings":"kgBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,cAAR,CAAwBC,QAAxB,KAAuC,kBAAvC,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,OAAQC,MAAR,CAAgBC,IAAhB,CAAsBC,SAAtB,CAAiCC,KAAjC,KAA6C,iBAA7C,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAAQC,cAAR,KAA6B,yBAA7B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CAEA,GAAMa,CAAAA,IAAI,CAAGZ,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAK,CAACD,IAAN,CAAWA,IAAf,EAAN,CAAxB,CAEA,GAAME,CAAAA,KAAK,CAAGd,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAK,CAACC,KAAN,CAAYA,KAAhB,EAAN,CAAzB,CAEAhB,SAAS,CAAC,UAAM,CACZ,GAAMiB,CAAAA,UAAU,0FAAG,+IACfJ,QADe,aACNT,QADM,uBACSC,CAAAA,GAAG,CAACa,cAAJ,CAAmBJ,IAAnB,CADT,8JAAH,kBAAVG,CAAAA,UAAU,0CAAhB,CAGAA,UAAU,GACb,CALQ,CAKN,CAACJ,QAAD,CAAWC,IAAX,CALM,CAAT,CAOA,mBACI,yBAEQE,KAAK,GAAKL,cAAc,CAACK,KAAzB,cACI,KAAC,KAAD,EAAO,OAAO,CAAE,QAAhB,CAA0B,SAAS,CAAE,sBAArC,uBACI,wDADJ,EADJ,cAKI,wCACI,KAAC,SAAD,EAAW,SAAS,CAAE,wBAAtB,UAEQA,KAAK,CAACG,GAAN,CAAU,SAACC,IAAD,CAAOC,CAAP,qBACN,KAAC,SAAD,CAAW,IAAX,wBACI,MAAC,IAAD,EAAM,KAAK,CAAE,CAACC,MAAM,CAAE,MAAT,CAAb,wBACI,KAAC,IAAD,CAAM,KAAN,wBACI,KAAC,MAAD,EACI,OAAO,CAAE,MADb,CAEI,OAAO,CAAE,kBAAM,CACXT,QAAQ,CAACV,cAAc,CAACiB,IAAD,CAAf,CAAR,CACH,CAJL,UAMKA,IAAI,CAACG,IANV,EADJ,EADJ,cAWI,KAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAE,WAAtB,UAAoCH,IAAI,CAACI,IAAzC,EAXJ,cAYI,KAAC,IAAD,CAAM,MAAN,EAAa,SAAS,CAAC,YAAvB,uBACI,aAAK,SAAS,CAAE,iBAAhB,wBACI,qBAAM,GAAIC,CAAAA,IAAJ,CAASL,IAAI,CAACM,YAAd,EAA4BC,cAA5B,EAAN,EADJ,cAEI,YAAK,SAAS,CAAE,SAAhB,UACKP,IAAI,CAACQ,aADV,EAFJ,GADJ,EAZJ,GADJ,EAAqBP,CAArB,CADM,EAAV,CAFR,EADJ,cA8BI,eACI,KAAK,CAAE,CAACQ,UAAU,CAAE,QAAb,CADX,CAEI,OAAO,sEAAE,+JACCxB,CAAAA,GAAG,CAACyB,aAAJ,EADD,yDAAF,EAFX,EA9BJ,cAoCI,KAAC,OAAD,IApCJ,GAPZ,EADJ,CAkDH,CAhED,CAkEA,cAAelB,CAAAA,QAAf","sourcesContent":["import React, {useEffect} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setCurrentUser, setUsers} from \"../redux/actions\";\nimport API from \"../utils/API\";\nimport {Button, Card, ListGroup, Alert} from \"react-bootstrap\";\nimport PageNav from \"./PageNav\";\nimport {USERS_ENFORCED} from \"../redux/stateConstants\";\n\nconst Timeline = () => {\n    const dispatch = useDispatch();\n\n    const page = useSelector(state => state.page.page);\n\n    const users = useSelector(state => state.users.users);\n\n    useEffect(() => {\n        const fetchUsers = async () => {\n            dispatch(setUsers(await API.getUsersByPage(page)));\n        }\n        fetchUsers();\n    }, [dispatch, page]);\n\n    return (\n        <>\n            {\n                users === USERS_ENFORCED.users ?\n                    <Alert variant={\"danger\"} className={\"ml-auto mr-auto mt-5\"}>\n                        <h3>You're making too many requests!</h3>\n                    </Alert>\n                    :\n                    <>\n                        <ListGroup className={\"mx-auto w-75 mt-5 mb-3\"}>\n                            {\n                                users.map((user, i) => (\n                                    <ListGroup.Item key={i}>\n                                        <Card style={{border: \"none\"}}>\n                                            <Card.Title>\n                                                <Button\n                                                    variant={\"link\"}\n                                                    onClick={() => {\n                                                        dispatch(setCurrentUser(user));\n                                                    }}\n                                                >\n                                                    {user.name}\n                                                </Button>\n                                            </Card.Title>\n                                            <Card.Body className={\"mt-0 pt-0\"}>{user.text}</Card.Body>\n                                            <Card.Footer className=\"text-muted\">\n                                                <div className={\"d-flex flex-row\"}>\n                                                    <div>{new Date(user.tweetCreated).toLocaleString()}</div>\n                                                    <div className={\"ml-auto\"}>\n                                                        {user.tweetLocation}\n                                                    </div>\n                                                </div>\n                                            </Card.Footer>\n                                        </Card>\n                                    </ListGroup.Item>\n                                ))\n                            }\n                        </ListGroup>\n                        <button\n                            style={{visibility: \"hidden\"}}\n                            onClick={async () => {\n                                await API.writeHoneyPot()\n                            }}\n                        />\n                        <PageNav/>\n                    </>\n            }\n\n        </>\n    )\n};\n\nexport default Timeline;"]},"metadata":{},"sourceType":"module"}